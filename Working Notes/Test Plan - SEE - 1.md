Date of test: 13-12-2022
Timeslot: Approx. 18:00-22:00
People executing test: Joris Kievits (TU Delft & Innatera), Peter Bogdan (Innatera), Wouter van Burik (HollandPTC)

## 1. Objective
Find optimum beam flux for statistical relevance and acceptable device behaviour.

To achieve this objective the DUT test system should be capable of:
1) Initializing device and performing basic functionality checks.
2) Dynamic device operation while under irradiation
3) Device resetting/reinitialization capability.
4) Detecting errors and logging data
5) Generation of a known duty factor (ratio of device "sensitive" time to total elapsed time).
6) Post-irradiation tests to check for any hard damage

#### 1.1 Research questions
With the results of this test, it should be able to answer the following questions:

1) How do SEEs affect the digital elements on chip?
2) How do SEEs affect the analog elements on chip?
3) How does TID influence the chip functionality?
4) Do hard errors occur?

#### 1.2 Hypotheses
Based on simulations and prior knowledge, some hypotheses are proposed for the research questions:

1) We expect that synaptic weights shall be changed due to SEEs. 
2) We expect that SEEs shall result in higher spiking rates 
3) We expect that TID shall pull all elements on chip in one direction (threshold and/or leakage)
4) We expect that no hard errors shall occur

## 2. Device to be tested
Innatera T0 processor

## 3. Device information
- Device: Innatera T0-processor (with board)
- Part number: TBD
- Description: A mixed-signal neuromorphic processor attached to a development board with peripheral systems
- Technology node: 28 nm node size
- Packaging: Socket  (allowing easy access but necessitating backside irradiation)
- Device preparation: No device preparation needed
- Sample size and number of control devices: 2 DUTs and 1 control device
- Sample selection process: TBD

## 4. Sample size
Since measured effects are non-destructive and only alter device characteristics as a result of TID, it is assumed that a sufficient number of measurements can be obtained from a single device to allow statistically relevant analyses. However, small variations between devices are expected due to the analog nature of the circuits. Therefore, testing with two devices is thought to give a more solid representation of behavior.

## 5. Test facility information
The proton tests are conducted at HollandPTC1in Delft. The facility offers a range of fluxes and provides exact values for the fluxes used after the test. Furthermore, the facility provides the tester with multiple cameras pointed at the DUT for observation.The facility itself consists of multiple rooms, of which three are dedicated to patient treatment. These can be used for human research outside of treatment hours. Electronics and other research objects that do not need the equipment used for patients can be tested in a different radiation room, where no patient treatment is conducted. This dedicated R&D room is equipped with a horizontal and stationary beamline. This beam can only be used outside of treatment hours for approximately 20 hours per week. It can only be used outside treatment hours since the proton beam is generated by a cyclotron connected to all four radiation rooms. This beam is then redirected by magnets to one of the different rooms in which the proton beam is requested. The researcher is accompanied by an employee from the facility. 

Entry to the radiation room is possible when needed, for example to test the functionality of the hardware reset in case the debug connection failed, or when a board power cycle is needed after a hard reset. 

## 6. Test setup
#### 6.1 General requirements
**Test equipment**
	Control room:
	- Laptop (preferably supplied by Innatera)
	- 1x ethernet cable 1m
	
	Radiation room:
	- Innatera T0
	- Development board 
	- Supporting FPGA 
	- DC power supply
	- Chip clamp
	- Board fixture (3D printed)
	- 1x ethernet cable 2+m
	- Temperature sensor (thermocouple or laser device)
	- TBD

Test board schematics
	- TBD

Software 
	- Non-network (as in https://github.com/pabogdan/inbv_radiation_exploration)
	- Analysis - TBD

Thermal management of the DUT
	- Heating
		- Infrared lamp (with clamped chip)
		- Thermopad with thermopaste (with soldered chip)
	- Cooling 
		- Fan
	- TBD

#### 6.2 Test setup
The DUT is clamped onto a development board which is connected to a secondary FPGA with supporting hardware. This board is connected to a laptop in the control room via ethernet. 

![[Test Setup.drawio.png]]

The physical arrangement of the setup as it will be implemented at the test facility
	- Board rotated 90 degrees with respect to horizontal floor
	- Horizontal beam incident perpendicularly on backside of board (angle of incidence 90 degrees)
	- Preferably (3D printed) structure for mechanically supporting DUT

![[Pasted image 20221107084255.png]]

## 7. Test conditions
Here the conditions used for testing are described.

#### 7.1 General overview
A test matrix shall be established that encompasses the device, test program, and beam conditions. Tests shall be performed under application-specific conditions and worst-case conditions for the device types.

#### 7.2 Test matrix
Device configuration:
- Electrical bias: TBD
- Temperature: TBD
- Current-limiting conditions: TBD
- Frequency or clock rate: TBD

![[Pasted image 20221107092654.png]]

#### 7.3 Worst-case device operating conditions
As a general rule, the worst-case test conditions are as follows:
- SEU: minimum operating voltage, maximum clock frequency
- SET: TBD, must be experimentally determined for a given device
- SEL: maximum operating voltage and maximum operating temperature
- SEB: maximum reverse-bias voltage and minimum operating temperature
- SEGR: maximum gate bias

## 8. DUT failure criteria
Designated DUT failure:
- Innatera uses a common standard to determine this (TBD).

## 9. SEE detection methods
The basis for detecting SEE is defined by a comparison of the test device response with some reference state(s).

#### 9.1 Inter-spike-intervals (SET)
The inter-spike-interval of all neurons is used to see if SEEs have any influence on the firing rate. The ISI is measured for all neurons, pre, during and post-irradiation. If SEE (namely transients) have an effect on spiking behavior of the neurons, this is likely reflected in the ISI values. Any changes in these values caused by SETs should only occur during irradiation. By comparing the measurements before, during and after irradiation, the amount of influence of SEEs can be determined.

#### 9.2 Synaptic weights (SEU/MBU)
During irradiation SEU's might occur in the digital elements on chip. To determine whether synaptic weights have been altered, individual neurons are biased to induce spiking. If other neurons also start spiking, this is an indication of synaptic weight updates. If this is indeed a soft error, a reset of the system should be able to restore the synaptic weigth to its original state.

#### 9.3 Voltage/current comparison
Comparing pre-irradiation voltage/current levels with the post-irradiation voltage/current levels. - TBD

It is also possible that a SEE may lead to a hard error. At this point, no methods for differentiating between failure modes such as (for example) SEFI, SEL, SEB or SEGR are identified.

## 10. Beam characteristics
The beam at HollandPTC and its possible settings are described here.

#### 10.1 General overview
The first setting needed for beam calibration is the size, generally divided in the following three:
![[Pasted image 20221107085148.png]]
As the beam area is not easy to change within tests, the beam area is preferably kept constant throughout all tests.

The equipment used to measure the ion beam flux, fluence, energy, and uniformity is a Beam Monitor from HollandPTC.  Plots of this uniformity are provided by the facililty as well. 
There is control over the intensity and the energy of the beam.  The exact energies and fluxes should be supplied to HollandPTC 1-2 weeks before the test for calibration purposes. Uncalibrated beam testing is highly unfavorable and can lead to dissatisfaction for HollandPTC.

**Intensity**
The reported value is the dose rate of protons. Using this dose, the flux can be calculated using the following formula (supplied by HollandPTC):
![[Pasted image 20221101133805.png]]

**Energy**
In-air testing requires determination of ion energy and range at the surface of the DUT to ensure sufficient penetration range through the charge-collection region of the device. The energy levels for the large beam are provided in the following table:
![[Pasted image 20221106132408.png]]
Different energy levels are possible for the small beam setting:
![[Pasted image 20221107084955.png]]

Time penalty for changing beam characteristics during tests:
- Size: ~a few hours
- Intensity: ~a few minutes
- Energy: ~a few minutes

#### 10.2 SEE cross section vs LET curve
Energies should normally be chosen to cover the energy or LET range necessary to determine the SEE threshold, saturated or maximum cross section, and for full device characterization, the shape of the curve between threshold and saturated or maximum value. A Bendell or Weibull fit is usually used for extrapolating device behavior. However, since there are only three energies available, this strategy is not possible here.

## 11. Dosimetry
The following dose rates are available for the large beam setting:
![[Pasted image 20221106132523.png]]

Other dose rates are possible for the small beam setting:
![[Pasted image 20221107085857.png]]

## 12. Flux
The range of heavy-ion fluxes (both average and instantaneous) must be established to provide the valid dosimetry and assure that all effectson device responseare due to single ion strikes independent of previous ion strikes. For SEE testing, a typical flux range is 1x10^3cm-2·s-1 to 1x10^5cm-2·s-1. However, higher fluxes may be acceptable if it can be established that these high-flux conditions do not invalidate the test results due to problems with dosimetry, tester limits, device heating, and/or charge collection effects. It should be demonstrated that the device response as a function of flux remains linear at the desired test flux such that the event cross section is independent of flux.

## 13. Fluence
The appropriate particle fluence level is a function of the test particle kinematics, the number and size of device sensitive nodes/transistors, the number of samples to be tested, and the dynamic operationof the device. The total number of particles must be sufficient to establish with a high statistical confidence that all sensitive volume(s) in the DUT have been irradiated or that for the given mission environment and number of devices to be flown, the likelihood of a rare event determined from
![[Pasted image 20221101104842.png]]
where sigma is the event cross sectionand, theta is the beam angle of incidence, is acceptably low for the mission risk tolerance. In the equation above, the use of 3.7 bounds the cross section at 95% confidence when no events are measured. 

Advanced technologies may require higher fluence due to lower event rates, and 100 non-destructive errors may not be realistic for these smaller cross-section events. When selecting a fluence level, dose effects must be considered for the time the DUT is under irradiation

## 14. Accumulated ionizing dose
The total accumulated ionizing dose for the sum of all planned irradiations shall be recorded for each device.